第8章 挖矿与共识
=======

#介绍

挖矿是维持比特币货币供应中的一个过程。同时，挖矿也保护着比特币系统的安全，防止不当交易或者双重支付。即同一笔比特币资金在不同交易里使用。矿工向比特币网络提供处理能力，以交换获取比特币奖励的机会。

矿工验证新的交易，并把它们记录到全局账本上。一个新区块，包含从上个区块以来发生的交易，每隔10分钟左右被“挖”出，从而将这些交易记录到区块链当中。成为区块一部分的交易并被加入区块链的交易被认为是“已确认的”，这使得比特币新的所有者可以花费在这些交易中收到的比特币。

矿工们获得两种类型的挖矿补偿：每个新区块中产生的新比特币；新区块中包含的所有交易的交易费用。为了赢得这些报酬，矿工通过竞争的方式基于密码学哈希算法解决一个极为复杂的数学问题。问题的解称为工作量证明，包含在新区块中，作为矿工付出的显著计算工作量的证明。竞争解决工作量证明算法，赢取奖励以及在区块链上记录交易的权利构成了比特币安全模型的基础。

新比特币产生的过程之所以叫做挖矿，是因为奖励是设计成递减的，就像贵金属的挖矿。比特币的货币供应通过挖矿来实现，类似中央银行通过印钞来发行货币。矿工可以加入区块的新产生比特币数量大概四年（精确的说是每210,000个区块）减少一次。2009年1月比特币网络开始运行的时候每挖出一个区块有50比特币产生，到2012年11月，这个数额减少一半，降为25比特币。到2016年7月（译者：原书为2016年某个时候），已降至12.5比特币每区块。基于这个公式，比特币挖矿奖励以指数级下降一直到大约2140年，所有比特币（20999.99998万）都将被发行完毕。2140后将不会在发行新比特币。

比科比矿工也从交易中赚交易费。每个交易都可能包含有交易费用，交易费用以交易输入和输出金额差值的形式存在。赢得竞争的比特币矿工获得包含在赢得的区块中的所有交易“小费”。目前，交易费用仅占矿工收入的0.5%或更少，主要的收入来源还是新挖出的比特币。但是，随着时间推移，奖励金额不断减少，而每个区块中包含的交易却在增加，交易费用在矿工收入中的占比必将逐步变大。2140年后，由于新比特币枯竭，比特币矿工的收入将全部来自交易费用。

“挖矿”这个词容易让人产生误解。让人想起贵金属挖矿，它将我们的注意力集中到挖矿的奖励上，也就是每个区块产生的新比特币。虽然挖矿是被这些新比特币所激励，挖矿的最主要目的其实不是报酬或者产生新比特币。如果你仅仅将挖矿看做一个创建比特币的过程，你就把手段（激励）当成了此过程的目的。挖矿是去中心化清算所的主要流程，通过清算所，交易被验证和清算。挖矿保护了比特币系统的安全，使得没有中心机构的情况下全网共识得以实现。

