前言
======

##关于写这本书

我第一次偶然发现比特币是在2011年中，我的第一反应就是：“我去，书呆子货币”，然后就把它仍到一边六个月之久，使我错过了抓住它重要性的机会。这种反应也在很多我认识的最聪明的人中普遍存在，这倒是给了我一些安慰。第二次偶遇比特币是在一个邮件列表的讨论群，这次我决定好好读读中本聪写的白皮书，研究研究权威来源是怎么说的，看看比特币到底是个什么鬼。我依然记得读完这九页文字后的震惊，比特币不仅仅是一个数字货币，而且还构成了远超数字货币本身的信任网络的基础。意识到“这不是一种货币，而是一个去中心化的信任网络”后，我开始了四个月的比特币旅行，我饥渴的吸收所有能收集到的有关比特币的信息，我变得如此痴迷，每天都会花12个小时甚至更多的时间盯着屏幕，阅读、书写、编码，希望学到能够学到的一切。由于饮食不正常，我掉了20磅肉，我决定从这种状态中摆脱出来，专心投入比特币的工作。

2年来，在创建了几家小的创业公司以探索各种比特币相关的服务和产品后，我觉得是时候开始写我的第一本书了。比特币是让我有了疯狂的创意，充实了思想；这是自从internet以来我见过的最激动人心的技术。现在到了把我对这个伟大技术的的热情分享给更多受众的时刻了。

##目标受众

这本书主要面向开发人员。如果你能使用一种编程语言，这本书可以教你加密货币是如何工作的，怎么使用它们，怎么开发基于它们的应用。前面几章同样也适合希望深入了解比特币和加密货币内部运行机制的非开发人员，这几章将对这些进行深度介绍。

##关于封面上的昆虫

切叶蚁是一种在超个体群落中展现出极度复杂性行为的生物，但是落实到个体上，单个蚂蚁只是在一套简单的规则驱动下进行社会交互，交换化学味素（信息素）。在维基百科中是这么描述的：“在人类之后，切叶蚁构成了地球上最大最复杂的动物社会” 切叶蚁实际上并不吃树叶，而是利用树叶来培育菌类，这些菌类是切叶蚁群体的主要食物来源。看到没？这些蚂蚁实际上是在进行农耕！

虽然蚂蚁是一种“种姓基础”的社会，有一个蚁后专门负责繁殖后代，但是它们并没有一个中央政权或者说在它们的群落中并没有领导者。上百万成员的社会展示的高度智能化及其复杂行为仅仅只是个体在社会网络的交互中的一种自然属性。

自然界证明了去中心化的系统也同样可以具有弹性，可以在没有中央集权、没有层级、没有复杂结构下产生不可思议的复杂性。

比特币是一个高度复杂的去中心化的信任网络，它能够支持各种各样的金融流程。但是，在这种情况下，网络的各个节点仅仅只需要遵循几个简单的数学规则。多个节点间的交互导向了复杂行为的产生，个体节点自身并不需要固有复杂性或者信任机制。就像一个蚂蚁群落，比特币网络是一个由无数遵循简单规则的节点一起组成的，不需要中心协作却能做各种不可思议事情的弹性网络。

##本书的约定
本书遵循以下排版约定：
*斜体*
>代表新名词，URL，email地址，文件名以及文件扩展名

固定宽度
>用作程序列表，段落中队程序元素的索引，比如变量，函数名，数据库，数据类型，环境变量，声明，关键字等

**黑体固定宽度**
>表示命令或者其他需要用户准确输入的文字

*斜体固定宽度*
>表示需要被用户提供的值替代或者通过上下文确定的值替代

![image](.\notes.png)这种图示表示一个提示，建议或者一般注解
![image](.\bug.png)这个图标表示经过或者注意


##代码示例
代码示例通过Python，C++提供，并且使用类Unix系统（如linux，Mac OS X）的命令行执行。所有代码片段在github代码库上均能找到，位于主库的code子目录。您可以分叉一个本书的代码库，并且尝试运行它们，或者您也可以通过github提交纠正。

所有代码均可以在大部分安装了相应语言最小化安装的编译器或者解释器的操作系统上运行。如果需要，我们也提供了基本安装指南以及一步步的指南的输出范例。

为了打印美观，一些代码段以及代码的输出重新进行了格式化，在这种情况下，长的代码行通过“\"分割，并紧跟换行符。当重新编译或执行这些范例时，需要把这个这两个字符删除，并把代码行进行合并，这样您就能看到文中一样的输出结果。

在可能的情况下所有代码段采用真实的数值进行计算，所有你可以自己编译执行这些代码并且看到同样的结果。举例来说，私钥和对应的公钥以及地址均为真实的值。示例中的交易、区块、区块链的索引也都是从比特币区块链的公共账本中获取到的，所以您可以在任意比特币系统上直接查看到。

##使用代码范例
这本书是为了帮助您完成工作的，通常如果本书中提供了示例代码，您可以在您的程序和文档中使用，而不需要联系我们获取许可，除非您重新大段分发本书代码。比如，在您的程序中使用了书中的几段代码，您不需要得到我们的许可即可使用；但是如果您出售或者通过CD-ROM分发从O'Reilly的书中获得的代码，您确实需要得到授权；通过引用本书以及书中代码来回答一个问题不需要得到授权，但是采用大段代码到您产品的文档中则需要授权。我们感谢但不强求您的参考说明。一个参考文献说明通常包含标题、作者、出版商以及书的ISBN。比如：“掌握比特币，安德里斯.M.安托诺普鲁斯 （O'Reilly）Copyright 2015 安德里斯.M.安托诺普鲁斯, 978-1-449-37404-4.”

本书的某些版本是以开源的方式提供的，比如CC-BYNC (creativecommons.org)，这种情况下版权协议遵照相应的开源版权说明。

如果您觉得您在使用代码的过程中可能已超过了合理使用范围或者以上的授权说明，请通过permissions@oreilly.com联系我们。

##Safari®在线图书
![image](.\safari.png)Safari在线图书是一个按需提供的数字图书馆，它同时以书本和视频的方式提供技术及商业领域世界顶级作者的专业内容。

技术专家，软件开发人员，web设计师，商业和创意专家利用Safari在线图书作为他们的研究，问题解决，学习以及认证培训的主要信息来源。

Safari在线图书为机构，政府机关以及个人提供了一定范围的产品组合和定价计划，订阅用户可以访问成千上万的，来自O'Reilly,Prentice Hall Professional, Addison-Wesley Professional,Microsoft PressSams, Que, Peachpit Press, Focal Press, Cisco Press, John Wiley & Sons, Syngress, Morgan Kaufmann, IBM Redbooks, Packt, Adobe Press, FT
Press, Apress, Manning, New Riders, McGraw-Hill, Jones & Bartlett, Course Technol‐
ogy等等出版商的，可以全文搜索的书籍、培训视频以及正式出版前的书稿。您可以访问我们的网站获取更多相关信息。

##如何联系我们
请将有关本书的意见和问题通过以下地址发送给出版商：
>O’Reilly Media, Inc.
1005 Gravenstein Highway North
Sebastopol, CA 95472
800-998-9938 (in the United States or Canada)
707-829-0515 (international or local)
707-829-0104 (fax)

我们也有一个关于本书的网页，在那儿，书籍的勘正，例子以及其他一切相关的信息，网页地址是：[http://bit.ly/mastering_bitcoin](http://bit.ly/mastering_bitcoin)

反馈意见或者询问本书相关的技术问题，请发邮件至[mailto:bookquestions@oreilly.com](mailto:bookquestions@oreilly.com)

获取更多我们的书籍、教程、会议、新闻信息，请访问我们的网站：[http://www.oreilly.com](http://www.oreilly.com)

我们的Facebook地址：[http://facebook.com/oreilly](http://facebook.com/oreilly)

在Twitter上关注我们：[http://twitter.com/oreillymedia](http://twitter.com/oreillymedia)

在Youtube上观看我们：[http://www.youtube.com/oreillymedia](http://www.youtube.com/oreillymedia)

##致谢
这本书的出版凝聚了很多人的努力和奉献。在此，我要感谢所有帮过我的朋友，同事甚至陌生人，这些人与我一起努力完成了这本关于加密货币和比特币的纯技术书籍。

实际上，要完全区分开比特币技术和比特币社区是不可能的，这本书不仅是这个社区的产品，也是关于这个技术的书籍。在写这本书的过程中，自始至终，我不断被整个比特币社区鼓励、支持、赞赏。最重要的，这本书使我这两年来真正成为这个伟大社区的一员，我无法用语言来表达对你们接受我进入这个社区的感激之情。太多的人了，我已经无法一一用名字提及----在会议，活动，研讨会，聚会，披萨聚餐，小型私人聚会等等面对面场合，以及在twitter，reddit论坛，bitcointalk.org，Github等等的在线交流中，大家为书籍的撰写提供了各种帮助和影响。每一个在书中你能找到的主意，推导，问题，答案均在一定程度上通过我与社区的互动被激励过，测试过或者改进过。谢谢所有人的支持，没有你们，这本书是不可能出现的，我会永远感谢你们！

当然，成为一个作家的历程在写第一本书之前很久就开始了。我的第一语言（以及教育经历）是希腊语，所以我在大学的第一年不得不补休英语写作。我要感谢我的英语写作老师戴安娜.科达斯，她帮助我们树立了信心并且掌握了英语写作的技巧。后来，作为一个技术专家，通过给《网络世界》撰写有关数据中心的议题进一步提高了我的写作技巧。我要感谢约翰.迪克斯和约翰.格兰特,他们给了我作为《网络世界》专栏作家的第一份写作工作，我的编辑迈克尔.库尼以及我的同事乔娜.迪尔.约翰逊他们帮忙修改我的专栏文章使之适合出版。持续4年，每周500字的写作经历给了我足够的经验最终考虑成为一个作家。感谢简.德.维拉，是她最早鼓励我成为一个作家，并且总是相信并坚持我能完成一本我自己的书。

同样感谢那些O'Reilly的同事，当我提交我的书籍提案时，他们向我提供参考资料，审阅提案，给了我很大的支持。特别需要感谢的是：约翰.格兰特，格里高利.奈斯，理查德.斯迪侬，乔尔.斯尼德，阿旦姆.B.勒文，桑德拉.迪特隆，约翰.迪克斯，乔安娜.迪尔.约翰逊，罗杰.维, 乔.马托尼斯。特别的感谢献给理查德.卡甘和迪蒙.马托斯科，他们对提案的早期版本进行了审阅，马修.欧文.泰勒对提案进行了编辑。

感谢克里克特.刘，O'Reilly 《DNS和BIND》的作者，将我介绍给了O'Reilly。 同样感谢O'Reilly的迈克尔.鲁基德斯和阿利森.麦克唐纳，他们几个月的辛勤努力才是本书的出现成为可能。由于生活干扰，我们制定的计划的限定时间已过，而交付物却延迟时，阿利森特别的耐心。

开始几稿的前面几章特别困难，因为比特币实在是一个难以阐明的主题。每次我想抽取比特币技术的一个主题时，总是不得不把整件事情一起扯进来。挣扎着想将一个复杂的主题尽量用易于理解的语言进行阐述时，我总是不停的卡壳，沮丧。最终，我决定通过讲述人们使用比特币过程的故事来组织整本书的思路，这使得撰写过程变得简单了许多。我必须感谢我的朋友和导师理查德.卡甘，他帮助我阐明了故事，度过了文思枯竭的阶段；帕姆拉.摩根，他帮我审阅了各章的早期版本并且提出了一系列棘手的问题，使文章变得更好。同样，感谢旧金山的比特币开发组和塔里克.路易斯，小组的联合创始人，是他们帮忙测试了早期的材料。

在撰写本书的过程中，我把早期的书稿放在了Github上，并邀请大家提意见。在此过程中，收集到了超过100条的评论、建议、修正和贡献。这些贡献均已在《早期文稿（Github 贡献者）》的第xvii页进行了公开致谢。特别感谢敏.T.阮，他自愿整理了Github上的贡献，并增加和很多他自己的贡献。也感谢安德鲁.诺格勒提供了信息图表的设计。

书籍成稿后，经过了几轮的技术审阅。感谢克里克特.刘贺罗恩.兰特兹对文稿的周密审阅，评论和支持。

几个比特币开发者贡献了代码示例，审阅，评论和鼓励。感谢阿米.塔基的代码示例和很多很好的评论；维塔利科.布特林和理查德.基斯帮忙椭圆曲线算法和代码共享；盖文.安德森的勘正，评论和鼓励；感谢米查里斯.卡嘎基斯的评论，贡献和btcd编写。


